<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Nlua by NLua</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/NLua/NLua">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/NLua/NLua/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/NLua/NLua/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Nlua</h1>
          <p>NLua is the bind between Lua world and the .NET world.</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/NLua">NLua</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h1>
<a id="nlua" class="anchor" href="#nlua" aria-hidden="true"><span class="octicon octicon-link"></span></a>NLua</h1>

<p><a href=""><img src="https://secure.gravatar.com/avatar/77ecf0fb9d8419be7715c6e822e66562?s=150" alt="Logo"></a></p>

<p>NLua is a fork project of LuaInterface (from FÃ¡bio Mascarenhas/Craig Presti).</p>

<p><a href=""><img src="https://raw.github.com/NLua/NLua/master/NLuaCommand.gif" alt="Cmd"></a></p>

<p>Example: using NLua from command line.</p>

<p>NLua allows the usage of Lua from C#, on Windows, Linux, Mac, iOS , Android, Windows Phone 7 and 8.</p>

<p>Unity3D support branch:  <a href="https://github.com/Mervill/Unity3D-NLua">unity3d</a> by <a href="https://github.com/Mervill/Unity3D-NLua">Riley G</a>.</p>

<table>
<thead>
<tr>
<th align="left"></th>
<th align="right">Build Status</th>
<th align="center">Download</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><strong>Linux</strong></td>
<td align="right"><a href="https://travis-ci.org/NLua/NLua"><img src="https://travis-ci.org/NLua/NLua.svg?branch=master" alt="Linux"></a></td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><strong>OSX</strong></td>
<td align="right"><a href="http://codefoco.zapto.org:8085/job/NLua_OSX/"><img src="http://codefoco.zapto.org:8085/buildStatus/icon?job=NLua_OSX" alt="OSX"></a></td>
<td align="center"><a href="https://www.dropbox.com/s/w99igtc12uocq4k/NLua.OSX.zip"><img src="http://nvlabs.github.com/cub/download-icon.png" alt="dwn_osx" title="Download for OSX"></a></td>
</tr>
<tr>
<td align="left"><strong>iOS</strong></td>
<td align="right"><a href="http://codefoco.zapto.org:8085/view/X/job/NLua_iOS/"><img src="http://codefoco.zapto.org:8085/buildStatus/icon?job=NLua_iOS" alt="Build Status"></a></td>
<td align="center"><a href="https://www.dropbox.com/s/s3xte19719446lx/NLua.iOS.zip"><img src="http://nvlabs.github.com/cub/download-icon.png" alt="dwn_ios" title="Download for iOS"></a></td>
</tr>
<tr>
<td align="left"><strong>Android</strong></td>
<td align="right"><a href="http://codefoco.zapto.org:8085/view/X/job/NLua_Android/"><img src="http://codefoco.zapto.org:8085/buildStatus/icon?job=NLua_Android" alt="Build Status"></a></td>
<td align="center"><a href="https://www.dropbox.com/s/mjet2sh67e7y6xo/NLua.Android.zip"><img src="http://nvlabs.github.com/cub/download-icon.png" alt="dwn_android" title="Download for Android"></a></td>
</tr>
<tr>
<td align="left"><strong>Win32</strong></td>
<td align="right"><a href="http://codefoco.zapto.org:8085/view/X/job/NLua_Windows/"><img src="http://codefoco.zapto.org:8085/buildStatus/icon?job=NLua_Windows" alt="Build Status"></a></td>
<td align="center"><a href="https://www.dropbox.com/s/jkr1pnwvqw6w0r8/NLua.Win32.zip"><img src="http://nvlabs.github.com/cub/download-icon.png" alt="dwn_w32" title="Download for Win32"></a></td>
</tr>
<tr>
<td align="left"><strong>Win64</strong></td>
<td align="right"><a href="http://codefoco.zapto.org:8085/view/X/job/NLua_Win64/"><img src="http://codefoco.zapto.org:8085/buildStatus/icon?job=NLua_Win64" alt="Build Status"></a></td>
<td align="center"><a href="https://www.dropbox.com/s/xraxkgi2kuwbu4a/NLua.Win64.zip"><img src="http://nvlabs.github.com/cub/download-icon.png" alt="dwn_w64" title="Download for Win64"></a></td>
</tr>
<tr>
<td align="left"><strong>.NET Pure C#</strong></td>
<td align="right"><a href="http://codefoco.zapto.org:8085/view/X/job/NLua_WinSafe/"><img src="http://codefoco.zapto.org:8085/buildStatus/icon?job=NLua_WinSafe" alt="Build Status"></a></td>
<td align="center"><a href="https://www.dropbox.com/s/do8m3929mf0pwff/NLua.NoPInvoke.zip"><img src="http://nvlabs.github.com/cub/download-icon.png" alt="dwn_winsafe" title="Download Pure C# - No P/Invoke"></a></td>
</tr>
<tr>
<td align="left"><strong>WP8 (Silverlight)</strong></td>
<td align="right"><a href="http://codefoco.zapto.org:8085/view/X/job/NLua_WinSafe/"><img src="http://codefoco.zapto.org:8085/buildStatus/icon?job=NLua_WPSL8" alt="Build Status"></a></td>
<td align="center"><a href="https://www.dropbox.com/s/2pva1tyxpnn7feb/NLua.WPSL8.zip"><img src="http://nvlabs.github.com/cub/download-icon.png" alt="dwn_wpsl8" title="Download for Windows Phone Silverlight 8 (ARM+x86)"></a></td>
</tr>
<tr>
<td align="left"><strong>WP8 (WinRT)</strong></td>
<td align="right"><a href="http://codefoco.zapto.org:8085/view/X/job/NLua_WP8/"><img src="http://codefoco.zapto.org:8085/buildStatus/icon?job=NLua_WPSL8" alt="Build Status"></a></td>
<td align="center"><a href="https://www.dropbox.com/s/nonijkic8216f7l/NLua.WinRT.zip"><img src="http://nvlabs.github.com/cub/download-icon.png" alt="dwn_wp8" title="Download for Windows Phone 8 (RT) (ARM+x86)"></a></td>
</tr>
<tr>
<td align="left"><strong>Windows Phone 7</strong></td>
<td align="right"></td>
<td align="center"><a href="https://www.dropbox.com/s/c08wphdmk5o7tdx/NLua.WP7.zip"><img src="http://nvlabs.github.com/cub/download-icon.png" alt="dwn_wp7" title="Download for Windows Phone 7"></a></td>
</tr>
<tr>
<td align="left"><strong>Unity3D</strong></td>
<td align="right"></td>
<td align="center"><a href="https://dl.dropboxusercontent.com/u/17523659/NLua.Unity3D.zip"><img src="http://nvlabs.github.com/cub/download-icon.png" alt="dwn_unity3d" title="Download for Unity3D"></a></td>
</tr>
</tbody>
</table>

<p>Example:
You can use/instantiate any .NET class without any previous registration or annotation. </p>

<div class="highlight highlight-csharp"><pre>    <span class="pl-s">public</span> <span class="pl-s">class</span> <span class="pl-en">SomeClass</span>
    {
        <span class="pl-s">public</span> <span class="pl-st">string</span> <span class="pl-en">MyProperty</span> {<span class="pl-k">get</span>; <span class="pl-s">private</span> <span class="pl-k">set</span>;}

        <span class="pl-s">public</span> <span class="pl-en">SomeClass</span> (<span class="pl-st">string</span> <span class="pl-vpf">param1</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">"</span>defaulValue<span class="pl-pds">"</span></span>)
        {
            MyProperty = param1;
        }

        <span class="pl-s">public</span> <span class="pl-st">int</span> <span class="pl-en">Func1</span> ()
        {
            <span class="pl-k">return</span> <span class="pl-c1">32</span>;
        }

        <span class="pl-s">public</span> <span class="pl-st">string</span> <span class="pl-en">AnotherFunc</span> (<span class="pl-st">int</span> <span class="pl-vpf">val1</span>, <span class="pl-st">string</span> <span class="pl-vpf">val2</span>)
        {
            <span class="pl-k">return</span> <span class="pl-s1"><span class="pl-pds">"</span>Some String<span class="pl-pds">"</span></span>;
        }

        <span class="pl-s">public</span> <span class="pl-s">static</span> <span class="pl-st">string</span> <span class="pl-en">StaticMethod</span> (<span class="pl-st">int</span> <span class="pl-vpf">param</span>)
        {
            <span class="pl-k">return</span> <span class="pl-s1"><span class="pl-pds">"</span>Return of Static Method<span class="pl-pds">"</span></span>;
        }
</pre></div>

<p>Creating Lua state:</p>

<div class="highlight highlight-csharp"><pre>    <span class="pl-k">using</span> NLua;

    Lua state = <span class="pl-s">new</span> Lua ()
</pre></div>

<p>Evaluating simple expressions:</p>

<div class="highlight highlight-csharp"><pre>    <span class="pl-k">var</span> res = state.DoString (<span class="pl-s1"><span class="pl-pds">"</span>return 10 + 3*(5 + 2)<span class="pl-pds">"</span></span>)[<span class="pl-c1">0</span>] <span class="pl-k">as</span> <span class="pl-st">double?</span>;
    <span class="pl-c">// Lua can return multiple values, for this reason DoString return a array of objects</span></pre></div>

<p>Passing raw values to the state:</p>

<div class="highlight highlight-csharp"><pre>    <span class="pl-st">double</span> val = <span class="pl-c1">12.0</span>;
    state [<span class="pl-s1"><span class="pl-pds">"</span>x<span class="pl-pds">"</span></span>] = val; <span class="pl-c">// Create a global value 'x' </span>
    <span class="pl-k">var</span> res = state.DoString (<span class="pl-s1"><span class="pl-pds">"</span>return 10 + x*(5 + 2)<span class="pl-pds">"</span></span>)[<span class="pl-c1">0</span>] <span class="pl-k">as</span> <span class="pl-st">double?</span>;</pre></div>

<p>Retrieving global values:</p>

<div class="highlight highlight-csharp"><pre>    state.DoString (<span class="pl-s1"><span class="pl-pds">"</span>y = 10 + x*(5 + 2)<span class="pl-pds">"</span></span>);
    <span class="pl-k">var</span> y = state [<span class="pl-s1"><span class="pl-pds">"</span>y<span class="pl-pds">"</span></span>] <span class="pl-k">as</span> <span class="pl-st">double?</span>; -- Retrieve the <span class="pl-k">value</span> of y</pre></div>

<p>Retrieving Lua functions:</p>

<div class="highlight highlight-csharp"><pre>    state.DoString (@<span class="pl-s1"><span class="pl-pds">"</span></span>
<span class="pl-s1">    function ScriptFunc (val1, val2)</span>
<span class="pl-s1">        if val1 &gt; val2 then</span>
<span class="pl-s1">            return val1 + 1</span>
<span class="pl-s1">        else</span>
<span class="pl-s1">            return val2 - 1</span>
<span class="pl-s1">        end</span>
<span class="pl-s1">    end</span>
<span class="pl-s1">    <span class="pl-pds">"</span></span>);
    <span class="pl-k">var</span> scriptFunc = state [<span class="pl-s1"><span class="pl-pds">"</span>ScriptFunc<span class="pl-pds">"</span></span>] <span class="pl-k">as</span> LuaFunction;
    <span class="pl-k">var</span> res = (<span class="pl-st">int</span>)scriptFunc.Call (<span class="pl-c1">3</span>, <span class="pl-c1">5</span>).First ();
    <span class="pl-c">// LuaFunction.Call will also return a array of objects, since a Lua function</span>
    <span class="pl-c">// can return multiple values</span></pre></div>

<h2>
<a id="using-the-net-objects" class="anchor" href="#using-the-net-objects" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using the .NET objects.</h2>

<p>Passing .NET objects to the state:</p>

<div class="highlight highlight-csharp"><pre>    SomeClass obj = <span class="pl-s">new</span> SomeClass (<span class="pl-s1"><span class="pl-pds">"</span>Param<span class="pl-pds">"</span></span>);
    state [<span class="pl-s1"><span class="pl-pds">"</span>obj<span class="pl-pds">"</span></span>] = obj; <span class="pl-c">// Create a global value 'obj' of .NET type SomeClass </span>
    <span class="pl-c">// This could be any .NET object, from BCL or from your assemblies</span></pre></div>

<p>Using .NET assemblies inside Lua:</p>

<p>To access any .NET assembly to create objects, events etc inside Lua you need to ask NLua to use CLR as a Lua package.
To do this just use the method <code>LoadCLRPackage</code> and use the <code>import</code> function inside your Lua script to load the Assembly.</p>

<div class="highlight highlight-csharp"><pre>    state.LoadCLRPackage ();
    state.DoString (@<span class="pl-s1"><span class="pl-pds">"</span> import ('MyAssembly', 'MyNamespace') </span>
<span class="pl-s1">               import ('System.Web') <span class="pl-pds">"</span></span>);
    <span class="pl-c">// import will load any .NET assembly and they will be available inside the Lua context.</span></pre></div>

<p>Creating .NET objects:
To create object you only need to use the class name with the <code>()</code>.</p>

<div class="highlight highlight-csharp"><pre>state.DoString (@<span class="pl-s1"><span class="pl-pds">"</span></span>
<span class="pl-s1">     obj2 = SomeClass() -- you can suppress default values.</span>
<span class="pl-s1">     client = WebClient()</span>
<span class="pl-s1">    <span class="pl-pds">"</span></span>);</pre></div>

<p>Calling instance methods:
To call instance methods you need to use the <code>:</code> notation, you can call methods from objects passed to Lua or to objects created inside the Lua context.</p>

<div class="highlight highlight-csharp"><pre>    state.DoString (@<span class="pl-s1"><span class="pl-pds">"</span></span>
<span class="pl-s1">    local res1 = obj:Func1()</span>
<span class="pl-s1">    local res2 = obj2:AnotherFunc (10, 'hello')</span>
<span class="pl-s1">    local res3 = client:DownloadString('http://nlua.org')</span>
<span class="pl-s1">    <span class="pl-pds">"</span></span>);</pre></div>

<p>Calling static methods:
You can call static methods using only the class name and the <code>.</code> notation from Lua.</p>

<div class="highlight highlight-csharp"><pre>    state.DoString (@<span class="pl-s1"><span class="pl-pds">"</span></span>
<span class="pl-s1">    local res4 = SomeClass.StaticMethod(4)</span>
<span class="pl-s1">    <span class="pl-pds">"</span></span>);</pre></div>

<p>Calling properties:
You can get (or set) any property using  <code>.</code> notation from Lua.</p>

<div class="highlight highlight-csharp"><pre>    state.DoString (@<span class="pl-s1"><span class="pl-pds">"</span></span>
<span class="pl-s1">    local res5 = obj.MyProperty</span>
<span class="pl-s1">    <span class="pl-pds">"</span></span>);</pre></div>

<p>All methods, events or property need to be public available, NLua will fail to call non-public members.</p>

<p>If you are using Xamarin.iOS you need to <a href="http://developer.xamarin.com/guides/ios/advanced_topics/linker/"><code>Preserve</code></a> the class you want to use inside NLua, otherwise the Linker will remove the class from final binary if the class is not in use.</p>

<h2>
<a id="sandboxing" class="anchor" href="#sandboxing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sandboxing</h2>

<p>There is many ways to sandbox scripts inside your application. I strongly recomend you to use plain Lua to do your sandbox.
You can re-write the <code>import</code> function before load the user script and if the user try to import a .NET assembly nothing will happen.</p>

<div class="highlight highlight-csharp"><pre>    state.DoString (@<span class="pl-s1"><span class="pl-pds">"</span></span>
<span class="pl-s1">        import = function () end</span>
<span class="pl-s1">    <span class="pl-pds">"</span></span>);</pre></div>

<p><a href="http://lua-users.org/wiki/SandBoxes">Lua-Sandbox user-list</a></p>

<p>Copyright (c) 2014 Vinicius Jarina (<a href="mailto:viniciusjarina@gmail.com">viniciusjarina@gmail.com</a>)</p>

<h2>
<a id="nlua-132" class="anchor" href="#nlua-132" aria-hidden="true"><span class="octicon octicon-link"></span></a>NLua 1.3.2</h2>

<ul>
<li>Migration to unified Xamarin.iOS (iOS)</li>
<li>Added __call method to call Actions/Funcs from Lua as Lua functions.</li>
<li>Fixed <a href="https://github.com/NLua/NLua/issues/116">#116</a> problem accessing base class method</li>
<li>Fixed <a href="https://github.com/NLua/NLua/issues/117">#117</a> problem with same method in class and base class</li>
<li>Fixed <a href="https://github.com/NLua/NLua/issues/125">#125</a> calling methods with params keyword.</li>
</ul>

<h2>
<a id="nlua-131" class="anchor" href="#nlua-131" aria-hidden="true"><span class="octicon octicon-link"></span></a>NLua 1.3.1</h2>

<ul>
<li>Added support to WinRT (Windows Phone 8)</li>
<li>Added support to Unity3D</li>
<li>Update Lua 5.2.3 with latest patches</li>
<li>Fixed support to Unicode strings (UTF-8)</li>
<li>
<a href="https://github.com/NLua/NLua/issues/67">Fixed x86/x64 issue</a>. </li>
<li><a href="https://github.com/NLua/NLua/issues/103">Fixed overload issue</a></li>
<li><a href="https://github.com/NLua/NLua/issues/31">Fixed support to Debug and DebugHook APIs</a></li>
<li><a href="https://github.com/NLua/NLua/issues/57">Added support to operators call</a></li>
<li><a href="https://github.com/NLua/NLua/issues/68">Fixed access to keys with .</a></li>
<li><a href="https://github.com/NLua/NLua/issues/73">Fixed issue with ValueTypes</a></li>
</ul>

<h2>
<a id="nlua-130" class="anchor" href="#nlua-130" aria-hidden="true"><span class="octicon octicon-link"></span></a>NLua 1.3.0</h2>

<ul>
<li>Update Lua to 5.2.3</li>
<li>Update to Xamarin components store. (<a href="http://components.xamarin.com/view/NLua">http://components.xamarin.com/view/NLua</a>)</li>
</ul>

<h2>
<a id="nlua-120" class="anchor" href="#nlua-120" aria-hidden="true"><span class="octicon octicon-link"></span></a>NLua 1.2.0</h2>

<ul>
<li>NuGet Package (<a href="https://www.nuget.org/packages/NLua/">https://www.nuget.org/packages/NLua/</a>)</li>
<li>Port to Android 15+ (armeabi, v7a, x86)</li>
<li>Updated Lua 5.2.2 (patch 7)</li>
<li>Lot of Bug fixes.</li>
</ul>

<h2>
<a id="nlua-110" class="anchor" href="#nlua-110" aria-hidden="true"><span class="octicon octicon-link"></span></a>NLua 1.1.0</h2>

<ul>
<li>Port to WP7 (Thanks to Mangatome)</li>
<li>NLua now using Lua 5.2.2</li>
<li>Bug fixes.</li>
</ul>

<h2>
<a id="nlua-100" class="anchor" href="#nlua-100" aria-hidden="true"><span class="octicon octicon-link"></span></a>NLua 1.0.0</h2>

<ul>
<li>Forked from LuaInterface 2.0.4</li>
<li>Added iOS support using KeraLua (C# P/Invoke Lua)</li>
</ul>

<blockquote>
<h3>
<a id="help-nlua" class="anchor" href="#help-nlua" aria-hidden="true"><span class="octicon octicon-link"></span></a>Help NLua</h3>

<ul>
<li>Contributing
--------------</li>
<li>NLua uses the Mono Code-Style <a href="http://www.mono-project.com/Coding_Guidelines">http://www.mono-project.com/Coding_Guidelines</a> .</li>
<li>Please, do not change the line-end or re-indent the code.</li>
<li>Run the tests before you push.</li>
<li>Avoid pushing style changes (unless they are really needed), renaming and move code.</li>
</ul>
</blockquote>

<h2>
<a id="old-history" class="anchor" href="#old-history" aria-hidden="true"><span class="octicon octicon-link"></span></a>Old History</h2>

<h2>
<a id="luainterface--" class="anchor" href="#luainterface--" aria-hidden="true"><span class="octicon octicon-link"></span></a>LuaInterface  </h2>

<p>Copyright (c) 2003-2006 Fabio Mascarenhas de Queiroz</p>

<p>Maintainer: Craig Presti, <a href="mailto:craig@vastpark.com">craig@vastpark.com</a></p>

<p>lua51.dll and lua51.exe are Copyright (c) 2005 Tecgraf, PUC-Rio</p>

<h2>
<a id="getting-started-with-nlua" class="anchor" href="#getting-started-with-nlua" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting started with NLua:</h2>

<ul>
<li><p>Look at src/TestNLua/TestLua to see an example of usage from C# 
(optionally you can run this from inside the NLua solution using the debugger).<br>
Also provides a good example of how to override .NET methods of Lua and usage of NLua
from within your .NET application.</p></li>
<li><p>Look at samples/testluaform.lua to see examples of how to use 
.NET inside Lua</p></li>
<li><p>More installation and usage instructions in the doc/guide.pdf file.</p></li>
</ul>

<h2>
<a id="whats-new-in-luainterface-203" class="anchor" href="#whats-new-in-luainterface-203" aria-hidden="true"><span class="octicon octicon-link"></span></a>What's new in LuaInterface 2.0.3</h2>

<ul>
<li>Fix: Private methods accessible via LuaInterface</li>
<li>Fix: Method overload lookup failures</li>
<li>Fix: Lua DoFile memory leaks when file not found (submitted by Paul Moore)</li>
<li>Fix: Lua Dispose not freeing memory (submitted by Paul Moore)</li>
<li>Fix: Better support for accessing indexers</li>
<li>Fix: Parsing error for MBCS characters (qingrui.li)</li>
<li>Fix: Dispose errors originating from LuaTable, LuaFunction, LuaUserData</li>
<li>Fix: LuaInterface no longer disposes the state when passed one via the overloaded constructor</li>
<li>Added: LoadString and LoadFile (submitted by Paul Moore)</li>
<li>Added: Overloaded DoString</li>
<li>Added: Lua debugging support (rostermeier)</li>
</ul>

<h2>
<a id="whats-new-in-luainterface-201" class="anchor" href="#whats-new-in-luainterface-201" aria-hidden="true"><span class="octicon octicon-link"></span></a>What's new in LuaInterface 2.0.1</h2>

<ul>
<li>Apparently the 2.0 built binaries had an issue for some users, this is just a rebuild with the lua sources pulled into the LuaInterface.zip</li>
</ul>

<h2>
<a id="whats-new-in-luainterface-20" class="anchor" href="#whats-new-in-luainterface-20" aria-hidden="true"><span class="octicon octicon-link"></span></a>What's new in LuaInterface 2.0</h2>

<ul>
<li>The base lua5.1.2 library is now built as entirely manged code.  LuaInterface is now pure CIL</li>
<li>Various adapters to connect the older x86 version of lua are no longer needed</li>
<li>Performance fixes contributed by Toby Lawrence, Oliver Nemoz and Craig Presti</li>
</ul>

<h2>
<a id="whats-new-in-luainterface-153" class="anchor" href="#whats-new-in-luainterface-153" aria-hidden="true"><span class="octicon octicon-link"></span></a>What's new in LuaInterface 1.5.3</h2>

<ul>
<li>Internal lua panics (due to API violations) now throw LuaExceptions into .net</li>
<li>If .net code throws an exception into Lua and lua does not handle it, the
original exception is forwarded back out to .net land.</li>
<li>Fix bug in the Lua 5.1.1 gmatch C code - it was improperly assuming gmatch
only works with tables.</li>
</ul>

<h2>
<a id="whats-new-in-luainterface-152" class="anchor" href="#whats-new-in-luainterface-152" aria-hidden="true"><span class="octicon octicon-link"></span></a>What's new in LuaInterface 1.5.2</h2>

<ul>
<li>Overriding C# methods from Lua is fixed (broken with .net 2.0!)</li>
<li>Registering static C# functions for Lua is fixed (broken with Lua-5.1.1)</li>
<li>Rebuilt to fix linking problems with the binaries included in 1.5.1</li>
<li>RegisterFunction has been leaking things onto the stack </li>
</ul>

<h2>
<a id="whats-new-in-luainterface-151" class="anchor" href="#whats-new-in-luainterface-151" aria-hidden="true"><span class="octicon octicon-link"></span></a>What's new in LuaInterface 1.5.1</h2>

<p>Fix a serious bug w.r.t. garbage collection - made especially apparent 
with the new lua5.1 switch: If you were <em>very</em> unlucky with timing 
sometimes Lua would loose track of pointers to CLR functions.</p>

<p>When I added support for static methods, I allowed the user to use either a 
colon or a dot to separate the method from the class name.  This was not 
correct - it broke disambiguation between overloaded static methods.<br>
Therefore, LuaInterface is now more strict: If you want to call a static 
method, you must use dot to separate the method name from the class name.  Of
course you can still use a colon if an <em>instance</em> is being used.</p>

<p>Static method calls are now much faster (due to better caching).</p>

<h2>
<a id="whats-new-in-luainterface-15" class="anchor" href="#whats-new-in-luainterface-15" aria-hidden="true"><span class="octicon octicon-link"></span></a>What's new in LuaInterface 1.5</h2>

<p>LuaInterface is now updated to be based on Lua5.1.1.  You can either use 
your own build/binaries for Lua5.1.1 or use the version distributed here. 
(Lots of thanks to Steffen Itterheim for this work!)</p>

<p>LuaInterface.Lua no longer has OpenLibs etc... The base mechanism for 
library loading for Lua has changed, and we haven't yet broken appart 
the library loading for LuaInterface.  Instead, all standard Lua libraries
are automatically loaded at start up.</p>

<p>Fixed a bug where calls of some static methods would reference an 
invalid pointer.</p>

<p>Fixed a bug when strings with embedded null characters are passed in or 
out of Lua (Thanks to Daniel Nï¿½ri for the report &amp; fix!)</p>

<p>The native components in LuaInterface (i.e. Lua51 and the loader) are 
both built as release builds - to prevent problems loading standard 
windows libraries.</p>

<p>Note: You do not need to download/build lua-5.1.1.zip unless you want to 
modify Lua internals (a built version of lua51.dll is included in the 
regular LuaInterface distribution)</p>

<h2>
<a id="whats-new-in-luainterface-14" class="anchor" href="#whats-new-in-luainterface-14" aria-hidden="true"><span class="octicon octicon-link"></span></a>What's New in LuaInterface 1.4</h2>

<p>Note: Fabio area of interest has moved off in other directions (hopefully only temporarily).
I've talked with Fabio and he's said he's okay with me doing a new release with various fixes
I've made over the last few months.  Changes since 1.3:</p>

<p>Visual Studio 2005/.Net 2.0 is supported.</p>

<p>Compat-5.1 is modified to expect backslash as the path seperator.</p>

<p>LuaInterface will now work correctly with Generic C# classes.</p>

<p>CLR inner types are now supported.</p>

<p>Fixed a problem where sometimes Lua proxy objects would be associated with the wrong CLR object.</p>

<p>If a CLR class has an array accessor, the elements can be accessed using the regular Lua indexing 
interface.</p>

<p>Add CLRPackage.lua to the samples directory.  This class makes it much easier to automatically 
load referenced assemblies.  In the next release this loading will be automatic.</p>

<p>To see an quick demonstration of LuaInterface, cd into nlua/samples and then 
type: ....\Built\debug\LuaRunner.exe testluaform.lua</p>

<p>Various other minor fixes that I've forgotten.  I'll keep better track next time.</p>

<p>Note: LuaInterface is still based on Lua 5.0.2.  If someone really wants us to upgrade to Lua 5.1
please send me a note.  In the mean time, I'm also distributing a version of
Lua 5.0.2 with an appropriate VS 2005 project file.  You do not need to
download this file unless you want to modify Lua internals (a built version
of lua50.dll is included in the regular LuaInterface distribution)</p>

<h2>
<a id="whats-new-in-luainterface-13" class="anchor" href="#whats-new-in-luainterface-13" aria-hidden="true"><span class="octicon octicon-link"></span></a>What's New in LuaInterface 1.3</h2>

<p>LuaInterface now works with LuaBinaries Release 2 (<a href="http://luabinaries.luaforge.net">http://luabinaries.luaforge.net</a>)
and Compat-5.1 Release 3 (<a href="http://luaforge.net/projects/compat">http://luaforge.net/projects/compat</a>). The loader DLL is now 
called luanet.dll, and does not need a nlua.lua file anymore
(just put LuaInterface.dll in the GAC, luanet.dll in your package.cpath, and
do require"luanet").</p>

<p>Fixed a bug in the treatment of the char type (thanks to Ron Scott).</p>

<p>LuaInterface.dll now has a strong name, and can be put in the GAC (thanks to Ivan Voras).</p>

<p>You can now use foreach with instances of LuaTable (thanks to Zachary Landau).</p>

<p>There is an alternate form of loading assemblies and importing types (based on an
anonymous contribution in the Lua wiki). Check the _alt files in the samples folder.</p>

<h2>
<a id="whats-new-in-luainterface-121" class="anchor" href="#whats-new-in-luainterface-121" aria-hidden="true"><span class="octicon octicon-link"></span></a>What's New in LuaInterface 1.2.1</h2>

<p>Now checks if two LuaInterface.Lua instances are trying to share the same Lua state,
and throws an exception if this is the case. Also included readonly clauses in public
members of the Lua and ObjectTranslator classes.</p>

<p>This version includes the source of LuaInterfaceLoader.dll, with VS.Net 2003 project
files.</p>

<h2>
<a id="whats-new-in-luainterface-12" class="anchor" href="#whats-new-in-luainterface-12" aria-hidden="true"><span class="octicon octicon-link"></span></a>What's New in LuaInterface 1.2</h2>

<p>LuaInterface now can be loaded as a module, so you can use the lua standalone
interpreter to run scripts. Thanks to Paul Winwood for this idea and sample code
showing how to load the CLR from a C++ program. The module is "nlua". Make
sure Lua can find nlua.lua, and LuaInterfaceLoader.dll is either in the
current directory or the GAC. The samples now load LuaInterface as a module, in
its own namespace.</p>

<p>The get_method_bysig, get_constructor_bysig and make_object were changed: now you
pass the <em>names</em> of the types to them, instead of the types themselves. E.g:</p>

<p>get_method_bysig(obj,"method","System.String")</p>

<p>instead of</p>

<p>String = import_type("System.String")
  get_method_bysig(obj,"method",String)</p>

<p>Make sure the assemblies of the types you are passing have been loaded, or the call
will fail. The test cases in src/TestLuaInterface/TestLua.cs have examples of the new
functions.</p>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
